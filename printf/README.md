## printf 구현

<br>

`ft_printf(const char *str, ...)`

- 가변인자
	- `stdarg.h`에 있음
	- 최소 1개 이상의 고정 인수가 있어야 함(ex. *str)
	
	|Type/Macro||
	|:---|:---|
	|va_list|- 가변 인자에 대한 정보를 저장해두기 위한 타입<br>- `va_list ap;` : ap는 인자리스트에서 인자의 주소를 가리키는 포인터 역할을 함|
	|va_start|- va_list를 초기화하는 매크로로, 첫번째 가변인자를 가리키게 됨<br>- 마지막 고정인자 다음부터 가변인자가 저장되기 때문에 두번째 매개변수로 마지막 고정인자를 넣어주면 첫번째 가변인자를 가리키도록 초기화할 수 있음|
	|va_arg|- ap포인터가 위치한 부분부터 데이터를 읽어서 리턴함<br>- 읽어온 데이터의 타입만큼 위치를 다음으로 옮기기 때문에 다음에 va_arg를 쓰면 다음 인자를 읽어오게 됨|
	|va_end|- 인자를 다 읽었으니 ap포인터를 NULL로 초기화시킴|
	- *va_arg를 쓸 때, char, short, float계열은 넣을 수 없음. 읽어올 떄 int나 double로 받아서 형변환해줘야 함*
	- *va_arg는 두번째 매개변수로 int, long, double, 포인터만 받음*

<br><br>

`%[flag][width][.precision]서식지정자`

- 플래그

	1. \- : 필드에서 값을 왼쪽으로 정렬하느 플래그(cspdiuxX%) *0보다 우선시됨*

	2. 0 : 오른쪽 정렬일 때 공백 대신 0으로 채우는 플래그(diuxX%)

	3. \# : 8진수는 앞에 0, 16진수면 0x, 0X를 붙여주는 플래그(xX)

	4. 공백 : 양수일 때는 +부호 대신 공백, 음수일 때는 -부호 붙여주는 플래그(diuxX)

	5. \+ : 양수일 때는 +부호, 음수일 때는 -부호 붙여주는 플래그(diuxX) *공백보다 우선시됨*

	6. width : 출력되는 너비를 지정해주는 옵션(cspdiuxX%), 출력보다 작으면 무시됨

	7. **.**(precision) : 정밀도 지정해주는 옵션(sdiuxX)

	8. \* : width나 precision처럼 숫자가 필요한 옵션에서 숫자를 대신하는 것으로, 가변인수로 값을 전달받음

<br><br>

*출력에서 공백 대신 .으로 표현함*

- 서식 지정자

	1. c : 문자
		|형식|출력||
		|:---|:---|:---|
		|%c| [c]||
		|%5c| [....c]|기본적으로 오른쪽 정렬|
		|%-5c| [c....]|-플래그로 왼쪽 정렬|
		|%-*c, -5| [c....]|width에 음수 들어가면 음수 부호를 -플래그로 취급|

	<br>

	2. s : 문자열
		|형식|출력||
		|:---|:---|:---|
		|%s| [string]||
		|%10s| [....string]||
		|%-10s| [string....]||
		|%010s| [0000string]|*원본 printf의 s는 0플래그 정의X*|
		|%-010s| [string....]|-, 0 같이 있으면 0 무시|
		|%10.3s| [.......str]|precision만큼만 출력|
		|%10.0s| [..........]|precision이 0이면 문자 대신 공백 출력|
		|%10.s| [..........]|precision 값을 안 넣으면 문자 대신 공백 출력|
		|%10.*s, -3| [....string]|precision이 음수면 전체 출력|
		|%-*s, -10| [string....]|width에 음수 들어가면 음수 부호를 -플래그로 취급|
		|입력값이 NULL| [(null)]|위의 플래그, 옵션 규칙 다 적용됨. 문자열이 (null) 된 것|	

	<br>

	3. p : 16진수로 된 메모리 주소
		|형식|출력||
		|:---|:---|:---|
		|%p| [0x108f71ea0]||
		|%15p| [....0x108f71ea0]||
		|%-15p| [0x108f71ea0....]||
		|%.15p| [0x0000108f71ea0]|precision이 문자열 사이즈보다 크면 0x와 주소 사이를 0으로 출력|
		|%.0p| [0x108f71ea0]|precision이 0이면 그대로 출력|
		|%.p| [0x108f71ea0]|precision이 없으면 그대로 출력|
		|%.*p, -5| [0x108f71ea0]|precision이 음수면 그대로 출력|
		|%p, NULL| [0x]|널포인터이고 precision이 없으면 0x만 출력|
		|%.*p, -5, NULL| [0x]|널포인터이고 precision이 음수면 0x만 출력|

	<br>

	4. d / i : 부호 있는 10진수 정수
		|형식|출력||
		|:---|:---|:---|
		|%d| [42]||
		|%5d| [...42]||
		|%-5d| [42...]||
		|%05d| [00042]||
		|%-05d| [42...]||
		|%-+5d| [+42..]||
		|%- 5d| [.42..]||
		|%.1d| [42]|precision이 문자열보다 작으면 그대로 출력|
		|%10.5d| [.....00042]|숫자 자리수보다 precision이 크면 그만큼 0으로 채우기|
		|%+10.5d| [....+00042]|부호는 precision에서는 안 세지만 width에서는 셈|
		|%0+10.5d| [....+00042]|0 플래그는 precision값이 양수면 무시됨|
		|%010.*d, -5| [0000000042]|precision값이 음수면 0 플래그 적용|
		|%0+10.*d, -5| [+000000042]|0 플래그가 있고, 부호 플래그가 있으면 부호 먼저 출력됨(-기호도 마찬가지)|
		|%0 10.*d, -5| [.000000042]|0 플래그가 있고, 부호 플래그가 있으면 부호 먼저 출력됨(-기호도 마찬가지)|
		|%.0d| [42]|n이 0이 아니고 precision이 0이면 그대로 출력|
		|%.d| [42]]|n이 0이 아니고 precision이 없으면 그대로 출력|
		|%.0d, 0| []|n이 0이고 precision이 0이면 출력 안 함|
		|%.d, 0| []|n이 0이고 precision이 없으면 출력 안 함|
		- *d와 i는 10진수만 받느냐, 10, 16, 8진수 다 받느냐 차이(scanf)라서 printf에서는 차이 없음*

	<br>

	5. u : 부호 없는 10진수 정수
		- 부호가 없으니까 기호가 들어갈 일이 없음
		- d/i와 동일하되, +, 공백 플래그 안 들어감

	<br>

	6. x / X : 부호 없는 16진수 정수(소문자 / 대문자)
		|형식|출력||
		|:---|:---|:---|
		|%x| [42a]||
		|%5x| [..42a]||
		|%-5x| [42a..]||
		|%05x| [0042a]||
		|%#10x| [.....0x42a]||
		|%0#10x| [0x0000042a]|0 플래그가 있으면 0x는 먼저 출력됨|
		|%-05x| [42a..]||
		|%.1x| [42a]|precision이 문자열보다 작으면 그대로 출력|
		|%10.5x| [.....0042a]|숫자 자리수보다 precision이 크면 그만큼 0으로 채우기|
		|%010.5x| [.....0042a]|0 플래그는 precision값이 양수면 무시됨|
		|%010.*x, -5| [000000042a]|precision값이 음수면 0 플래그 적용|
		|%.0x| [42a]|n이 0이 아니고 precision이 0이면 그대로 출력|
		|%.x| [42a]]|n이 0이 아니고 precision이 없으면 그대로 출력|
		|%.0x, 0| []|n이 0이고 precision이 0이면 출력 안 함|
		|%.x, 0| []|n이 0이고 precision이 없으면 출력 안 함|

	<br>

	7. % : % 출력
		|형식|출력|
		|:---|:---|
		|%%| 출력 : [%]|
		|%-5%| 출력 : [....%]|
		|%05%| 출력 : [%0000]|
		|%-05%| 출력 : [....%]|
		|%5%| 출력 : [%....]|
		|%-*%, -5| 출력 : [....%]|
		- -와 0가 같이 있으면 0 무시

	<br>

*by. seongele*